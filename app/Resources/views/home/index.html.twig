{% extends 'base.html.twig' %}

{% block stylesheets %}
    <style>
        .footer {
            background-color: #262626;
            color: #999;
        }

        footer .widget-title {
            margin-top: 35px;
            color: #fff;
            font-weight: 600;
            font-size: 18px;
            text-transform: uppercase;
        }

        .cw-tags a {
            color: #bfbfbf;
            border: 1px solid rgba(0,0,0,0.1);
            display: inline-block;
            padding: 3px 16px;
            font-size: 14px;
            line-height: 22px;
            margin: 0 1px 6px 0;
            background-color: rgba(0,0,0,0.1);
            -webkit-transition: background 0.3s,color 0.3s,border-color .3s;
            transition: background 0.3s,color 0.3s,border-color .3s;
        }

        .cw-tags a:hover {
            background: #97BC23;
            border-color: #97BC23;
            color: #fff;
            text-decoration: none;
        }

        aside .cw-tags a {
            color: gray;
            background-color: transparent;
        }

        address a {
            color: #999;
        }

        .list-recent a {
            color: #bfbfbf;
            display: inline-block;
            padding: 3px 0;
            font-size: 14px;
            line-height: 22px;
            margin: 0 1px 6px 0;

        }

        .list-recent a:hover {
            color: #97BC23;
            text-decoration: none;
        }

        .subfooter {
            background-color: #000;
            font-size: 14px;
            color: #888;
        }

        .subfooter a {
            color: #97BC23;
            -webkit-transition: all .2s ease-in-out;
            -moz-transition: all .2s ease-in-out;
            -ms-transition: all .2s ease-in-out;
            -o-transition: all .2s ease-in-out;
            transition: all .2s ease-in-out;
            text-decoration: none;
        }

        .rights{
            margin: 10px;
        }

        .blog-post-container a, .latest-posts a {
            -webkit-transition: all .2s ease-in-out;
            -moz-transition: all .2s ease-in-out;
            -ms-transition: all .2s ease-in-out;
            -o-transition: all .2s ease-in-out;
            transition: all .2s ease-in-out;
            text-decoration: none;
        }

        .img-responsive, .img-responsive img,
        .thumbnail > img,
        .thumbnail a > img,
        .carousel-inner > .item > img,
        .carousel-inner > .item > a > img {
            display: block;
            max-width: 100%;
            width: 100%;
            height: auto;
        }

        .post-container {
            border-bottom: 1px solid #eee; margin-bottom: 40px; padding-bottom: 40px;
        }

        .post-container .post-content {
            float: none;
            width: 100%;
            clear: both;
            padding: 10px 0;
            box-sizing: border-box;
            color: #888;
            font-family: "Roboto Condensed",sans-serif;
            font-weight: 400;
            line-height: 22px;
            font-size: 14px;
        }

        .post-title a{
            font-size: 22px;
            font-weight: 400;
            text-transform: uppercase;
            color: #343434;
            line-height: 1.2;
            margin-top: 20px;
            font-family: inherit;
            box-sizing: border-box;

            -webkit-margin-before: 1em;
            -webkit-margin-after: 1em;
            -webkit-margin-start: 0px;
            -webkit-margin-end: 0px;
        }

        .post-title, .post-title h3{
            margin-bottom: 0;
        }

        .latest-post img {
            height: 50px;
        }

        .meta {
            font-size: 13px;
            font-style: italic;
            margin-bottom: 17px;
            padding-bottom: 11px;
            border-bottom: 1px dotted #eee;
            box-sizing: border-box;
            color: #888;
            font-family: "Roboto Condensed",sans-serif;
            font-weight: 400;
            line-height: 22px;
        }

        .meta .meta-part {
            display: inline-block;
            margin-bottom: 10px;
            margin-right: 25px;
            box-sizing: border-box;
        }

        .meta .meta-part a {
            color: #999;
            transition: all .2s ease-in-out;
            text-decoration: none;
            background-color: transparent;
        }

        .meta .meta-part > i {
            margin-right: 6px;
        }

        .continue_reading a {
            font-size: 14px;
            line-height: 1.42857143;
            min-width: 160px;
            text-align: center;
            text-transform: uppercase;
            display: inline-block;
            font-weight: 400;
            white-space: nowrap;
            vertical-align: middle;
            touch-action: manipulation;
            cursor: pointer;
            -webkit-user-select: none;
            background-image: none;
            -webkit-transition: all .2s ease-in-out;
            -moz-transition: all .2s ease-in-out;
            -ms-transition: all .2s ease-in-out;
            -o-transition: all .2s ease-in-out;
            transition: all .2s ease-in-out;
        }

        .btn.focus, .btn:focus, a:hover {
            text-decoration: none;
        }
    </style>
{% endblock %}

{% block body %}
    <div class="container">
        <div class="row">
            <div class="col-md-9 col-sm-12 col-xs-12">
                {% for post in posts %}
                    <div class="post-container col-lg-12 col-md-12 col-sm-12 col-xs-12">
                        <div class="img-responsive">
                            <a href="{{ url('sonata_news_view', { 'permalink': sonata_news_permalink(post) }) }}">
                                {% media post.image, 'big' %}
                            </a>
                        </div>

                        <div class="post-content">
                            <div class="blog-post-information meta">
                            <span class="meta-part">
                                <a href="#">
                                    <i class="glyphicon glyphicon-time"></i>
                                    {{ post.publicationDateStart | format_date }}
                                </a>
                            </span>
                            <span class="meta-part">
                                <a href="#"><i class="glyphicon glyphicon-comment"></i>
                                    {{ 'comments_count'|trans({'%comments_count%': post.commentsCount }, 'SonataNewsBundle') }}
                                </a>
                            </span>
                            <span class="meta-part">
                                <a href="#">
                                    <i class="glyphicon glyphicon-thumbs-up"></i> 214 Likes
                                </a>
                            </span>

                                {% if post.tags|length >= 1 %}
                                    <span class="meta-part">
                                    {% if post.tags|length > 1 %}
                                        <i class="glyphicon glyphicon-tags"></i>
                                    {% else %}
                                        <i class="glyphicon glyphicon-tag"></i>
                                    {% endif %}

                                        {#{{ 'published_under'|transchoice(post.tags|length, {}, 'SonataNewsBundle') }}#}

                                        {% for tag in post.tags %}
                                            <a href="{{ url('sonata_news_tag', { 'tag': tag.slug } ) }}">{{ tag.name }}</a>{% if not loop.last %},{% endif %}
                                        {% endfor %}
                                </span>
                                {% endif %}

                                <span class="meta-part">
                                <a href="#">
                                    <i class="glyphicon glyphicon-user"></i>
                                    {{ 'archive_author'|trans({'%author%': post.author }, 'SonataNewsBundle') }}
                                </a>
                            </span>
                            </div>

                            <div class="post-title">
                                <h3>
                                    <a href="{{ url('sonata_news_view', { 'permalink': sonata_news_permalink(post) }) }}">{{ post.title }}</a>
                                </h3>
                            </div>

                            <div class="blog-post-abtract">
                                <p>{{ post.abstract }}</p>
                            </div>
                        </div>

                        <div class="continue_reading pull-right">
                            <a class="" href="{{ url('sonata_news_view', { 'permalink': sonata_news_permalink(post) }) }}">
                                Continue Reading <i class="glyphicon glyphicon-menu-right"></i>
                            </a>
                        </div>
                    </div>

                {% else %}
                    {{ 'no_post_found'|trans({}, 'SonataNewsBundle') }}
                {% endfor %}

                <nav aria-label="Page navigation" class="text-center">
                    <ul class="pagination">
                        <li>
                            <a href="#" aria-label="Previous">
                                <span aria-hidden="true">&laquo;</span>
                            </a>
                        </li>
                        <li><a href="#">1</a></li>
                        <li><a href="#">2</a></li>
                        <li><a href="#">3</a></li>
                        <li><a href="#">4</a></li>
                        <li><a href="#">5</a></li>
                        <li>
                            <a href="#" aria-label="Next">
                                <span aria-hidden="true">&raquo;</span>
                            </a>
                        </li>
                    </ul>
                </nav>
            </div>

            <aside class="col-md-3 col-sm-12 col-xs-12">
                <div class="row">
                    <div class="col-lg-12">
                        <div class="input-group">
                            <input type="text" class="form-control" placeholder="Search for...">
                        <span class="input-group-btn">
                            <button class="btn btn-default" type="button">Go!</button>
                        </span>
                        </div>
                    </div>

                    <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 categories-posts">
                        {% render(controller('AppBundle:Default:category')) %}
                    </div>

                    <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 latest-posts">
                        {% render(controller('AppBundle:Default:latest_posts')) %}
                    </div>

                    <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                        {% render(controller('AppBundle:Default:tag')) %}
                    </div>
                </div>
            </aside>
        </div>
    </div>
{% endblock %}

{% block javascripts %}
    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="{{ asset('js/jquery-2.1.4.min.js') }}"></script>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="{{ asset('js/bootstrap.min.js') }}"></script>
{% endblock %}
